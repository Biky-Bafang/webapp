const __vite__fileDeps=["./web.YBzab6zH.js","./index.C9AwUYvo.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{s as T,z as q,w as j,A as U,B as C,D as P,E as V,F as W,G as z,H as G}from"./scheduler.C25rSTt5.js";import{S as Y,i as k,f as H,c as M,a as F,m as Q,t as B,b as I,d as X}from"./index.CiCksDGq.js";import{c as J,B as K,g as Z,a as x}from"./stores.Dsg8gpKN.js";import{r as $,C as p}from"./index.C9AwUYvo.js";import{_ as ee}from"./preload-helper.D6kgxu3v.js";const te=J((n,{gap:e,rowGap:t,columnGap:s,align:a,justify:i,wrap:u,direction:r})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:r,alignItems:a,flexWrap:u,justifyContent:i,gap:e?n.fn.size({size:e,sizes:n.space}):void 0,rowGap:t?n.fn.size({size:t,sizes:n.space}):void 0,columnGap:s?n.fn.size({size:s,sizes:n.space}):void 0}}));function ne(n){let e;const t=n[15].default,s=V(t,n,n[17],null);return{c(){s&&s.c()},l(a){s&&s.l(a)},m(a,i){s&&s.m(a,i),e=!0},p(a,i){s&&s.p&&(!e||i&131072)&&W(s,t,a,a[17],e?G(t,a[17],i,null):z(a[17]),null)},i(a){e||(B(s,a),e=!0)},o(a){I(s,a),e=!1},d(a){s&&s.d(a)}}}function se(n){let e,t,s;const a=[{use:n[1]},{class:n[6](n[2],n[5].root,n[4]({css:n[3]}))},n[7]];function i(r){n[16](r)}let u={$$slots:{default:[ne]},$$scope:{ctx:n}};for(let r=0;r<a.length;r+=1)u=q(u,a[r]);return n[0]!==void 0&&(u.element=n[0]),e=new K({props:u}),j.push(()=>H(e,"element",i)),{c(){M(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,l){Q(e,r,l),s=!0},p(r,[l]){const d=l&254?Z(a,[l&2&&{use:r[1]},l&124&&{class:r[6](r[2],r[5].root,r[4]({css:r[3]}))},l&128&&x(r[7])]):{};l&131072&&(d.$$scope={dirty:l,ctx:r}),!t&&l&1&&(t=!0,d.element=r[0],U(()=>t=!1)),e.$set(d)},i(r){s||(B(e.$$.fragment,r),s=!0)},o(r){I(e.$$.fragment,r),s=!1},d(r){X(e,r)}}}function ae(n,e,t){let s,a,i;const u=["use","element","class","override","gap","rowGap","columnGap","align","justify","wrap","direction"];let r=C(e,u),{$$slots:l={},$$scope:d}=e,{use:y=[],element:w=void 0,class:D="",override:N={},gap:m=void 0,rowGap:b=void 0,columnGap:g=void 0,align:h=void 0,justify:v=void 0,wrap:_=void 0,direction:E=void 0}=e;function R(c){w=c,t(0,w)}return n.$$set=c=>{e=q(q({},e),P(c)),t(7,r=C(e,u)),"use"in c&&t(1,y=c.use),"element"in c&&t(0,w=c.element),"class"in c&&t(2,D=c.class),"override"in c&&t(3,N=c.override),"gap"in c&&t(8,m=c.gap),"rowGap"in c&&t(9,b=c.rowGap),"columnGap"in c&&t(10,g=c.columnGap),"align"in c&&t(11,h=c.align),"justify"in c&&t(12,v=c.justify),"wrap"in c&&t(13,_=c.wrap),"direction"in c&&t(14,E=c.direction),"$$scope"in c&&t(17,d=c.$$scope)},n.$$.update=()=>{n.$$.dirty&32512&&t(6,{cx:s,classes:a,getStyles:i}=te({gap:m,rowGap:b,columnGap:g,align:h,justify:v,wrap:_,direction:E},{name:"Flex"}),s,(t(5,a),t(8,m),t(9,b),t(10,g),t(11,h),t(12,v),t(13,_),t(14,E)),(t(4,i),t(8,m),t(9,b),t(10,g),t(11,h),t(12,v),t(13,_),t(14,E)))},[w,y,D,N,i,a,s,r,m,b,g,h,v,_,E,l,R,d]}class be extends Y{constructor(e){super(),k(this,e,ae,se,T,{use:1,element:0,class:2,override:3,gap:8,rowGap:9,columnGap:10,align:11,justify:12,wrap:13,direction:14})}}var S;(function(n){n[n.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",n[n.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",n[n.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(S||(S={}));var A;(function(n){n[n.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",n[n.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",n[n.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"})(A||(A={}));function ie(n){return new DataView(Uint8Array.from(n).buffer)}function re(n){return Array.from(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}function oe(n){return`0000${n.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function ue(n){const e=n.trim().split(" ").filter(t=>t!=="").map(t=>parseInt(t,16));return ie(e)}function L(n){return re(n).map(e=>{let t=e.toString(16);return t.length==1&&(t="0"+t),t}).join(" ")}function ge(n){if(typeof n=="string")return n;if(typeof n=="number")return oe(n);throw new Error("Invalid UUID")}function he(n){const e={};if(n)return n.forEach((t,s)=>{e[s.toString()]=t}),e}const o=$("BluetoothLe",{web:()=>ee(()=>import("./web.YBzab6zH.js"),__vite__mapDeps([0,1]),import.meta.url).then(n=>new n.BluetoothLeWeb)}),ce=()=>{let n=Promise.resolve();return e=>new Promise((t,s)=>{n=n.then(()=>e()).then(t).catch(s)})};function O(n){return n?ce():e=>e()}function f(n){if(typeof n!="string")throw new Error(`Invalid UUID type ${typeof n}. Expected string.`);if(n=n.toLowerCase(),!(n.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${n}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return n}class le{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=O(!0)}enableQueue(){this.queue=O(!0)}disableQueue(){this.queue=O(!1)}async initialize(e){await this.queue(async()=>{await o.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await o.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await o.requestEnable()})}async enable(){await this.queue(async()=>{await o.enable()})}async disable(){await this.queue(async()=>{await o.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var t;const s="onEnabledChanged";await((t=this.eventListeners.get(s))===null||t===void 0?void 0:t.remove());const a=await o.addListener(s,i=>{e(i.value)});this.eventListeners.set(s,a),await o.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;const t="onEnabledChanged";await((e=this.eventListeners.get(t))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(t),await o.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await o.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await o.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await o.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await o.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await o.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await o.requestDevice(e))}async requestLEScan(e,t){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var s;await((s=this.scanListener)===null||s===void 0?void 0:s.remove()),this.scanListener=await o.addListener("onScanResult",a=>{const i=Object.assign(Object.assign({},a),{manufacturerData:this.convertObject(a.manufacturerData),serviceData:this.convertObject(a.serviceData),rawAdvertisement:a.rawAdvertisement?this.convertValue(a.rawAdvertisement):void 0});t(i)}),await o.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await o.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(async()=>(await o.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(f),this.queue(async()=>(await o.getConnectedDevices({services:e})).devices)}async connect(e,t,s){await this.queue(async()=>{var a;if(t){const i=`disconnected|${e}`;await((a=this.eventListeners.get(i))===null||a===void 0?void 0:a.remove());const u=await o.addListener(i,()=>{t(e)});this.eventListeners.set(i,u)}await o.connect(Object.assign({deviceId:e},s))})}async createBond(e,t){await this.queue(async()=>{await o.createBond(Object.assign({deviceId:e},t))})}async isBonded(e){return await this.queue(async()=>(await o.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await o.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await o.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await o.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await o.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,t){await this.queue(async()=>{await o.requestConnectionPriority({deviceId:e,connectionPriority:t})})}async readRssi(e){return await this.queue(async()=>{const s=await o.readRssi({deviceId:e});return parseFloat(s.value)})}async read(e,t,s,a){return t=f(t),s=f(s),await this.queue(async()=>{const u=await o.read(Object.assign({deviceId:e,service:t,characteristic:s},a));return this.convertValue(u.value)})}async write(e,t,s,a,i){return t=f(t),s=f(s),this.queue(async()=>{if(!(a!=null&&a.buffer))throw new Error("Invalid data.");let u=a;p.getPlatform()!=="web"&&(u=L(a)),await o.write(Object.assign({deviceId:e,service:t,characteristic:s,value:u},i))})}async writeWithoutResponse(e,t,s,a,i){t=f(t),s=f(s),await this.queue(async()=>{if(!(a!=null&&a.buffer))throw new Error("Invalid data.");let u=a;p.getPlatform()!=="web"&&(u=L(a)),await o.writeWithoutResponse(Object.assign({deviceId:e,service:t,characteristic:s,value:u},i))})}async readDescriptor(e,t,s,a,i){return t=f(t),s=f(s),a=f(a),await this.queue(async()=>{const r=await o.readDescriptor(Object.assign({deviceId:e,service:t,characteristic:s,descriptor:a},i));return this.convertValue(r.value)})}async writeDescriptor(e,t,s,a,i,u){return t=f(t),s=f(s),a=f(a),this.queue(async()=>{if(!(i!=null&&i.buffer))throw new Error("Invalid data.");let r=i;p.getPlatform()!=="web"&&(r=L(i)),await o.writeDescriptor(Object.assign({deviceId:e,service:t,characteristic:s,descriptor:a,value:r},u))})}async startNotifications(e,t,s,a){t=f(t),s=f(s),await this.queue(async()=>{var i;const u=`notification|${e}|${t}|${s}`;await((i=this.eventListeners.get(u))===null||i===void 0?void 0:i.remove());const r=await o.addListener(u,l=>{a(this.convertValue(l==null?void 0:l.value))});this.eventListeners.set(u,r),await o.startNotifications({deviceId:e,service:t,characteristic:s})})}async stopNotifications(e,t,s){t=f(t),s=f(s),await this.queue(async()=>{var a;const i=`notification|${e}|${t}|${s}`;await((a=this.eventListeners.get(i))===null||a===void 0?void 0:a.remove()),this.eventListeners.delete(i),await o.stopNotifications({deviceId:e,service:t,characteristic:s})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(f)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(f)),e}convertValue(e){return typeof e=="string"?ue(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;const t={};for(const s of Object.keys(e))t[s]=this.convertValue(e[s]);return t}}const ve=new le,_e="4fafc201-1fb5-459e-8fcc-c5c9c331914b",Ee="beb5483e-36e1-4688-b7f5-ea07361b26a8";function pe(n,e=500,t=10){let s,a,i;const u=d=>{s=d.clientX,a=d.clientY,i=setTimeout(()=>{n.dispatchEvent(new CustomEvent("longpress"))},e),n.addEventListener("pointermove",r),n.addEventListener("pointerup",l),n.addEventListener("pointerleave",l)},r=d=>{const y=d.clientX-s,w=d.clientY-a;Math.sqrt(y*y+w*w)>t&&l()},l=()=>{clearTimeout(i),n.removeEventListener("pointermove",r),n.removeEventListener("pointerup",l),n.removeEventListener("pointerleave",l)};return n.addEventListener("pointerdown",u),{destroy(){n.removeEventListener("pointerdown",u)}}}export{ve as B,be as F,Ee as c,ue as h,pe as l,he as m,_e as s,ge as w};
