import{s as ae,e as S,a as E,c as k,b as N,g as U,f as b,z as x,i as A,h as d,F as z,G,H as se,A as le,I as Z,k as J,J as ee,t as w,d as y,j as H}from"../chunks/scheduler.Cabs2qPT.js";import{S as re,i as ie,c as P,a as M,m as j,t as D,d as R,e as T}from"../chunks/index.CisEW8ZJ.js";import{e as O,h as V,B as W,s as K,b as L,d as oe}from"../chunks/stores.DfX1f76V.js";import{F as ue}from"../chunks/Flex.B88W1OFr.js";import{N as te}from"../chunks/NativeSelect.DvzGGdHS.js";import{B as ne}from"../chunks/Text.CdW7TBh3.js";function Q(s,e,t){const a=s.slice();return a[12]=e[t],a}function ce(s){let e;return{c(){e=w("Clear")},l(t){e=y(t,"Clear")},m(t,a){A(t,e,a)},d(t){t&&b(e)}}}function fe(s){let e,t,a,c,o,f,r,p;return e=new ne({props:{color:"gray",variant:"subtle",$$slots:{default:[ce]},$$scope:{ctx:s}}}),e.$on("click",s[5]),o=new te({props:{data:[...s[3].list.map(Y),""]}}),o.$on("change",s[8]),{c(){P(e.$$.fragment),t=E(),a=S("input"),c=E(),P(o.$$.fragment),this.h()},l(n){M(e.$$.fragment,n),t=U(n),a=k(n,"INPUT",{type:!0,class:!0}),c=U(n),M(o.$$.fragment,n),this.h()},h(){x(a,"type","number"),x(a,"class","delayInput svelte-158mxph")},m(n,u){j(e,n,u),A(n,t,u),A(n,a,u),z(a,s[1]),A(n,c,u),j(o,n,u),f=!0,r||(p=[G(a,"input",s[6]),G(a,"change",s[7])],r=!0)},p(n,u){const h={};u&32768&&(h.$$scope={dirty:u,ctx:n}),e.$set(h),u&2&&ee(a.value)!==n[1]&&z(a,n[1]);const i={};u&8&&(i.data=[...n[3].list.map(Y),""]),o.$set(i)},i(n){f||(D(e.$$.fragment,n),D(o.$$.fragment,n),f=!0)},o(n){R(e.$$.fragment,n),R(o.$$.fragment,n),f=!1},d(n){n&&(b(t),b(a),b(c)),T(e,n),T(o,n),r=!1,Z(p)}}}function X(s){let e,t,a=s[12].time+"",c,o,f=s[12].name+"",r,p,n=s[12].message+"",u;return{c(){e=S("p"),t=w("["),c=w(a),o=w("] - "),r=w(f),p=w(": "),u=w(n)},l(h){e=k(h,"P",{});var i=N(e);t=y(i,"["),c=y(i,a),o=y(i,"] - "),r=y(i,f),p=y(i,": "),u=y(i,n),i.forEach(b)},m(h,i){A(h,e,i),d(e,t),d(e,c),d(e,o),d(e,r),d(e,p),d(e,u)},p(h,i){i&16&&a!==(a=h[12].time+"")&&H(c,a),i&16&&f!==(f=h[12].name+"")&&H(r,f),i&16&&n!==(n=h[12].message+"")&&H(u,n)},d(h){h&&b(e)}}}function me(s){let e;return{c(){e=w("Send")},l(t){e=y(t,"Send")},m(t,a){A(t,e,a)},d(t){t&&b(e)}}}function pe(s){let e,t,a,c,o,f,r,p,n,u,h,i,B,q,$;t=new ue({props:{override:{gap:"10px",justifyContent:"space-between",alignItems:"center",margin:"10px 0"},$$slots:{default:[fe]},$$scope:{ctx:s}}});let v=O(s[4]),_=[];for(let l=0;l<v.length;l+=1)_[l]=X(Q(s,v,l));return u=new te({props:{override:{minWidth:"90px"},data:["Serial1","Serial2"]}}),u.$on("change",s[10]),i=new ne({props:{color:"gray",variant:"outline",$$slots:{default:[me]},$$scope:{ctx:s}}}),{c(){e=S("main"),P(t.$$.fragment),a=E(),c=S("div"),o=S("pre");for(let l=0;l<_.length;l+=1)_[l].c();f=E(),r=S("form"),p=S("input"),n=E(),P(u.$$.fragment),h=E(),P(i.$$.fragment),this.h()},l(l){e=k(l,"MAIN",{class:!0});var g=N(e);M(t.$$.fragment,g),a=U(g),c=k(g,"DIV",{class:!0});var I=N(c);o=k(I,"PRE",{});var F=N(o);for(let C=0;C<_.length;C+=1)_[C].l(F);F.forEach(b),I.forEach(b),f=U(g),r=k(g,"FORM",{class:!0});var m=N(r);p=k(m,"INPUT",{type:!0,class:!0}),n=U(m),M(u.$$.fragment,m),h=U(m),M(i.$$.fragment,m),m.forEach(b),g.forEach(b),this.h()},h(){x(c,"class","consoleBox svelte-158mxph"),x(p,"type","text"),x(p,"class","hexInput svelte-158mxph"),x(r,"class","hexInputContainer svelte-158mxph"),x(e,"class","svelte-158mxph")},m(l,g){A(l,e,g),j(t,e,null),d(e,a),d(e,c),d(c,o);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(o,null);d(e,f),d(e,r),d(r,p),z(p,s[0]),d(r,n),j(u,r,null),d(r,h),j(i,r,null),B=!0,q||($=[G(p,"input",s[9]),G(r,"submit",se(s[11]))],q=!0)},p(l,[g]){const I={};if(g&32782&&(I.$$scope={dirty:g,ctx:l}),t.$set(I),g&16){v=O(l[4]);let m;for(m=0;m<v.length;m+=1){const C=Q(l,v,m);_[m]?_[m].p(C,g):(_[m]=X(C),_[m].c(),_[m].m(o,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=v.length}g&1&&p.value!==l[0]&&z(p,l[0]);const F={};g&32768&&(F.$$scope={dirty:g,ctx:l}),i.$set(F)},i(l){B||(D(t.$$.fragment,l),D(u.$$.fragment,l),D(i.$$.fragment,l),B=!0)},o(l){R(t.$$.fragment,l),R(u.$$.fragment,l),R(i.$$.fragment,l),B=!1},d(l){l&&b(e),T(t),le(_,l),T(u),T(i),q=!1,Z($)}}}const Y=s=>s.name;function he(s,e,t){let a,c;J(s,oe,$=>t(3,a=$)),J(s,V,$=>t(4,c=$));let o="",f=10,r;const p=()=>{V.set([])};function n(){f=ee(this.value),t(1,f)}const u=async()=>{try{await W.write(r.id,K,L,new Uint8Array([4,f]))}catch($){alert($)}},h=$=>{t(2,r=a.list.find(v=>v.name===$.target.value))};function i(){o=this.value,t(0,o)}return[o,f,r,a,c,p,n,u,h,i,$=>{t(2,r=a.list.find(v=>v.name===$.target.value))},async()=>{try{if(!o.match(/^(0x[0-9a-fA-F]{2}\s*)+$/)){alert("Invalid hex input");return}const $=o.split(" ").map(v=>parseInt(v,16));await W.write(r.id,K,L,new Uint8Array([r.name==="Serial1"?2:3,...$]))}catch($){alert($)}}]}class Ie extends re{constructor(e){super(),ie(this,e,he,pe,ae,{})}}export{Ie as component};
